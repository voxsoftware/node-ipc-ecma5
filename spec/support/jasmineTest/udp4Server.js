'use strict';

var ipc = require('../../../node-ipc');
var process = require('process');
var dieAfter = 30000;

//die after 60 seconds
setTimeout(function killServerProcess() {
    process.exit(0);
}, dieAfter);

ipc.config.id = 'udpServer';
ipc.config.retry = 1500;
ipc.config.silent = true;
ipc.config.networkPort = 8095;

ipc.serveNet('udp4', function serverStarted() {
    ipc.server.on('message', function gotMessage(data, socket) {
        ipc.server.emit(socket, 'message', {
            id: ipc.config.id,
            message: 'I am UDP4 server!'
        });
    });
});

ipc.server.start();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL25vZGUtaXBjL3NwZWMvc3VwcG9ydC9qYXNtaW5lVGVzdC91ZHA0U2VydmVyLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBLElBQU0sTUFBSSxRQUFRLG1CQUFSLENBQUo7QUFDTixJQUFNLFVBQVEsUUFBUSxTQUFSLENBQVI7QUFDTixJQUFNLFdBQVMsS0FBVDs7O0FBR04sV0FDSSxTQUFTLGlCQUFULEdBQTRCO0FBQ3hCLFlBQVEsSUFBUixDQUFhLENBQWIsRUFEd0I7Q0FBNUIsRUFHQSxRQUpKOztBQU9BLElBQUksTUFBSixDQUFXLEVBQVgsR0FBZ0IsV0FBaEI7QUFDQSxJQUFJLE1BQUosQ0FBVyxLQUFYLEdBQWtCLElBQWxCO0FBQ0EsSUFBSSxNQUFKLENBQVcsTUFBWCxHQUFrQixJQUFsQjtBQUNBLElBQUksTUFBSixDQUFXLFdBQVgsR0FBdUIsSUFBdkI7O0FBR0EsSUFBSSxRQUFKLENBQ0ksTUFESixFQUVJLFNBQVMsYUFBVCxHQUF3QjtBQUNwQixRQUFJLE1BQUosQ0FBVyxFQUFYLENBQ0ksU0FESixFQUVJLFNBQVMsVUFBVCxDQUFvQixJQUFwQixFQUF5QixNQUF6QixFQUFnQztBQUM1QixZQUFJLE1BQUosQ0FBVyxJQUFYLENBQ0ksTUFESixFQUVJLFNBRkosRUFHSTtBQUNJLGdCQUFVLElBQUksTUFBSixDQUFXLEVBQVg7QUFDVixxQkFBVSxtQkFBVjtTQUxSLEVBRDRCO0tBQWhDLENBRkosQ0FEb0I7Q0FBeEIsQ0FGSjs7QUFvQkEsSUFBSSxNQUFKLENBQVcsS0FBWCIsImZpbGUiOiJ1ZHA0U2VydmVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBpcGM9cmVxdWlyZSgnLi4vLi4vLi4vbm9kZS1pcGMnKTtcbmNvbnN0IHByb2Nlc3M9cmVxdWlyZSgncHJvY2VzcycpO1xuY29uc3QgZGllQWZ0ZXI9MzAwMDA7XG5cbi8vZGllIGFmdGVyIDYwIHNlY29uZHNcbnNldFRpbWVvdXQoXG4gICAgZnVuY3Rpb24ga2lsbFNlcnZlclByb2Nlc3MoKXtcbiAgICAgICAgcHJvY2Vzcy5leGl0KDApO1xuICAgIH0sXG4gICAgZGllQWZ0ZXJcbik7XG5cbmlwYy5jb25maWcuaWQgPSAndWRwU2VydmVyJztcbmlwYy5jb25maWcucmV0cnk9IDE1MDA7XG5pcGMuY29uZmlnLnNpbGVudD10cnVlO1xuaXBjLmNvbmZpZy5uZXR3b3JrUG9ydD04MDk1O1xuXG5cbmlwYy5zZXJ2ZU5ldChcbiAgICAndWRwNCcsXG4gICAgZnVuY3Rpb24gc2VydmVyU3RhcnRlZCgpe1xuICAgICAgICBpcGMuc2VydmVyLm9uKFxuICAgICAgICAgICAgJ21lc3NhZ2UnLFxuICAgICAgICAgICAgZnVuY3Rpb24gZ290TWVzc2FnZShkYXRhLHNvY2tldCl7XG4gICAgICAgICAgICAgICAgaXBjLnNlcnZlci5lbWl0KFxuICAgICAgICAgICAgICAgICAgICBzb2NrZXQsXG4gICAgICAgICAgICAgICAgICAgICdtZXNzYWdlJyxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQgICAgICA6IGlwYy5jb25maWcuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlIDogJ0kgYW0gVURQNCBzZXJ2ZXIhJ1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICB9XG4pO1xuXG5cbmlwYy5zZXJ2ZXIuc3RhcnQoKTtcbiJdfQ==