'use strict';

var parser = {
    parse: parseDataEvents,
    format: formatData,
    delimiter: '\f'
};

function formatData(message) {
    if (!message.data) {
        message.data = {};
    }
    if (message.data['_maxListeners']) {
        message.data = {};
    }

    message = message.JSON + parser.delimiter;
    return message;
}

function parseDataEvents(data) {
    var events = data.split(parser.delimiter);
    events.pop();
    return events;
}

module.exports = parser;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL25vZGUtaXBjL2Rhby9ldmVudFBhcnNlci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQSxJQUFNLFNBQU87QUFDVCxXQUFjLGVBQWQ7QUFDQSxZQUFjLFVBQWQ7QUFDQSxlQUFjLElBQWQ7Q0FIRTs7QUFNTixTQUFTLFVBQVQsQ0FBb0IsT0FBcEIsRUFBNEI7QUFDeEIsUUFBRyxDQUFDLFFBQVEsSUFBUixFQUFhO0FBQ2IsZ0JBQVEsSUFBUixHQUFhLEVBQWIsQ0FEYTtLQUFqQjtBQUdBLFFBQUcsUUFBUSxJQUFSLENBQWEsZUFBYixDQUFILEVBQWlDO0FBQzdCLGdCQUFRLElBQVIsR0FBYSxFQUFiLENBRDZCO0tBQWpDOztBQUlBLGNBQVEsUUFBUSxJQUFSLEdBQWEsT0FBTyxTQUFQLENBUkc7QUFTeEIsV0FBTyxPQUFQLENBVHdCO0NBQTVCOztBQVlBLFNBQVMsZUFBVCxDQUF5QixJQUF6QixFQUE4QjtBQUMxQixRQUFJLFNBQU8sS0FBSyxLQUFMLENBQVcsT0FBTyxTQUFQLENBQWxCLENBRHNCO0FBRTFCLFdBQU8sR0FBUCxHQUYwQjtBQUcxQixXQUFPLE1BQVAsQ0FIMEI7Q0FBOUI7O0FBTUEsT0FBTyxPQUFQLEdBQWUsTUFBZiIsImZpbGUiOiJldmVudFBhcnNlci5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuY29uc3QgcGFyc2VyPXtcbiAgICBwYXJzZSAgICAgICA6IHBhcnNlRGF0YUV2ZW50cyxcbiAgICBmb3JtYXQgICAgICA6IGZvcm1hdERhdGEsXG4gICAgZGVsaW1pdGVyICAgOiAnXFxmJ1xufTtcblxuZnVuY3Rpb24gZm9ybWF0RGF0YShtZXNzYWdlKXtcbiAgICBpZighbWVzc2FnZS5kYXRhKXtcbiAgICAgICAgbWVzc2FnZS5kYXRhPXt9O1xuICAgIH1cbiAgICBpZihtZXNzYWdlLmRhdGFbJ19tYXhMaXN0ZW5lcnMnXSl7XG4gICAgICAgIG1lc3NhZ2UuZGF0YT17fTtcbiAgICB9XG5cbiAgICBtZXNzYWdlPW1lc3NhZ2UuSlNPTitwYXJzZXIuZGVsaW1pdGVyO1xuICAgIHJldHVybiBtZXNzYWdlO1xufVxuXG5mdW5jdGlvbiBwYXJzZURhdGFFdmVudHMoZGF0YSl7XG4gICAgbGV0IGV2ZW50cz1kYXRhLnNwbGl0KHBhcnNlci5kZWxpbWl0ZXIpO1xuICAgIGV2ZW50cy5wb3AoKTtcbiAgICByZXR1cm4gZXZlbnRzO1xufVxuXG5tb2R1bGUuZXhwb3J0cz1wYXJzZXI7XG4iXX0=